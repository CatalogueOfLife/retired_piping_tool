head	1.3;
access;
symbols;
locks
	kwok:1.3; strict;
comment	@# @;


1.3
date	2011.07.06.10.27.54;	author kwok;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.03.14.24.06;	author kwok;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.11.11.34.57;	author kwok;	state Exp;
branches;
next	;


desc
@first draft before clean up
@


1.3
log
@added features to select field delimitor and enclosing characters.
@
text
@{* upload template *}
{* $Id: upload.tpl,v 1.2 2011/06/03 14:24:06 kwok Exp kwok $ *}
<script>
function addField(selected_items, newField)
{
	newField += '\n'
	if (! selected_items.match(newField))
		selected_items += newField

	return selected_items
}
</script>
<h3><font color="red"><em>{$message}</em></font><h3>

<noscript>
<h3><font color="red">
	<em>Please enable JavaScript on your web browser for this page.</em>
</font><h3>
</noscript>

{**************}
{* input form *}
{**************}
{if $status == 'inputform'}
{* show uploading option input form *}

<form	method='post'
		action='upload.php'
		enctype='multipart/form-data'
>
{* Column Option *}
<table>
<tr>
	<td colspan=2 align='center'><b>Data Columns Setting</b></td>
</tr>
<tr>
	<td>
		<select	name='input_fields'
				size={$no_of_fields}
				onChange="selected_items.value =
							addField(selected_items.value, this.value);"
		>

		{section name=row loop=$fieldname}
			{if $required_fields[$fieldname[row]]}
			<option value='{$fieldname[row]}' style="color:red">
				{$fieldname[row]}
			</option>
			{else}
			<option value='{$fieldname[row]}'>{$fieldname[row]}</option>
			{/if}
		{/section}

		</select>
	</td>
	<td>
		<textarea	id='selected_items'
					name='selected_items'
					cols=25
					rows={$no_of_fields}
					readonly
					style="overflow:hidden;font-family:arial;font-size:10pt"
		></textarea>
	</td>
</tr>
</table>
<script>
document.getElementById('selected_items').value = '{$selected_items}'
</script>

{* default setting button *}
<input
	type="button"
	onclick="selected_items.value='{$preset_fields}';"
	value="Default Setting"
/>

{* clear button *}
<input
	type="button"
	onclick="selected_items.value='';"
	value="Clear"
/>

{* Upload Source Selection *}
<p></p>
<table>
<tr>
	<td colspan=3 align='center'><b>Data Source</b></td>
</tr>
<tr>
	<td><input type="radio" name="source" value="file" /></td>
	<td>File:</td>
	<td><input type='file' name='filename' size='40' /></td>
</tr>

<tr>
	<td><input type="radio" name="source" value="url" /></td>
	<td>URL:</td>
	<td><input name='url' value='{$url}' size=40 /></td>
</tr>

</table>
<p></p>

{* other options *}
<table>
<tr>
	<td colspan=2 align='center'><b>Other Options</b><td>
</tr>
<tr>
	<td>
		<input
			type="checkbox"
			name="no_first_row"
			title="Ignore first row of data"
			value="no_first_row"
		/>
	</td>
	<td>Ignore first row of data</td>
{*
	<td>
		<input
			type="checkbox"
			name="zip_file"
			title="Zip file"
			value="zip_file"
		/>
	</td>
	<td>Zip file</td>
*}
</tr>
</table>
<table>
<tr>
<td>Field Delimited By:</td>
<td>
	<select name="delimitor">
		<option value="comma"    >Comma [ , ]    </option>
		<option value="semicolon">Semicolon [ ; ]</option>
		<option value="tab"      >Tab            </option>
		<option value="space"    >Space          </option>
	</select>
</td>
<td>&nbsp;</td>
<td>Field Enclosed By:</td>
<td>
	<select name="enclose_by">
		<option value="d_quote">Double Quote [ " ]</option>
		<option value="s_quote">Single Quote [ ' ]</option>
		<option value="none"   >None              </option>
	</select>
</td>
</tr>
</table>
<p></p>
<input name='upload' type='submit' value='Upload' style="color:limegreen" />
</form>

{******************}
{* after uploaded *}
{******************}
{elseif $status == 'uploaded'}
{* after file been uploaded, only show the $status_message *}
{/if}

@


1.2
log
@cleaned up the code
@
text
@d2 1
a2 1
{* $Id: upload.tpl,v 1.1 2011/05/11 11:34:57 kwok Exp kwok $ *}
d109 1
a109 1
	<td colspan=2 align='center'><b>Other Option(s)</b><td>
d113 6
a118 1
		<input type="checkbox" name="no_first_row" value="no_first_row" />
d121 33
d157 1
a157 1
<input name='upload' type='submit' value='Upload' />
@


1.1
log
@Initial revision
@
text
@d1 12
a12 1
{* taxa template  $Id$ *}
a29 3
{*
		onSubmit="return selected_items.value"
*}
d40 2
a41 1
				onChange="selected_items.value += this.value + '\n';"
a66 1
{*
d68 1
a68 3
	document.write("<br />This is JS test.")
	document.write("<br />")
	document.write(document.getElementById('selected_items').value.toString())
a69 1
*}
a84 10
{* test button will remove later *}
{*
<input name="setCol" type="submit" value="Test" />
*}

{*
<input name="jsvalue" type="hidden"
		value="document.selected_items.value.toString()" />
*}

d100 1
a100 1
	<td><input name='url' size=40 /></td>
a102 7
{*
<tr>
	<td></td>
	<td></td>
	<td><input name='upload' type='submit' value='Upload' /></td>
</tr>
*}
a128 22






{***************************************************************}
{* all below is commented out *}
{*
<table>
{section name=row loop=$taxa}
<tr>
	<td>{$taxa[row]['id']}</td>
	<td>{$taxa[row]['genus']}</td>
	<td>{$taxa[row]['specie_epithet']}</td>
	<td>{$taxa[row]['author_string']}</td>
	<td>{$taxa[row]['family']}</td>
	<td>{$taxa[row]['order']}</td>
</tr>
{/section}
</table>
*}
@
